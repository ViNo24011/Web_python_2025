<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/themify-icons@0.1.2/css/themify-icons.css">
    <link rel="stylesheet" href="./assets/css/product.css">
</head>
<body>
    <div class="main">
        <div class="navbar">
            <a href="http://127.0.0.1:5500/frontend-python/home.html" class="navbar__header">
                <p class="navbar__header-logo">Warehourse</p>
                <div class="navbar__header-wrapper">
                    <p class="navbar__header-text">Quản lý kho hàng</p>
                </div>
            </a>
            <div class="navbar__content">
                <div class="navbar__content-item">
                    <a href="http://127.0.0.1:5500/frontend-python/home.html" class="navbar__content-item-link">
                        <i class="fa-solid fa-chart-pie navbar__content-icon"></i>
                        <p class="navbar__content-text">Thống kê</p>
                    </a>
                </div>

                <div class="navbar__content-item">
                    <a href="#" class="navbar__content-item-link">
                        <i class="fa-solid fa-user-group navbar__content-icon"></i>
                        <p class="navbar__content-text">Quản lý người dùng</p>
                    </a>
                </div>

                <div class="navbar__content-item">
                    <a href="#" class="navbar__content-item-link">
                        <i class="fa-solid fa-users navbar__content-icon"></i>
                        <p class="navbar__content-text">Quản lý khách hàng</p>
                    </a>
                </div>

                <div class="navbar__content-item">
                    <a href="#" class="navbar__content-item-link  navbar__content-item-parent">
                        <i class="fa-solid fa-boxes-stacked navbar__content-icon"></i>
                        <p class="navbar__content-text">Quản lý sản phẩm</p>
                        <i class="fa-solid fa-angle-down navbar__content-sub-icon"></i>
                    </a>

                    <div class="navbar__content-sub">
                        <a href="#" class="navbar__content-item-link">
                            <i class="fa-solid fa-truck-field navbar__content-icon"></i>
                            <p class="navbar__content-text">Nhà cung cấp</p>
                        </a>

                        <a href="http://127.0.0.1:5500/frontend-python/product.html" class="navbar__content-item-link navbar__content-item-choose">
                            <i class="fa-solid fa-box navbar__content-icon"></i>
                            <p class="navbar__content-text">Sản phẩm</p>
                        </a>
                    </div>
                </div>

                <div class="navbar__content-item">
                    <a href="#" class="navbar__content-item-link navbar__content-item-parent">
                        <i class="fa-solid fa-warehouse navbar__content-icon"></i>
                        <p class="navbar__content-text">Quản lý kho</p>
                        <i class="fa-solid fa-angle-down navbar__content-sub-icon"></i>
                    </a>

                    <div class="navbar__content-sub">
                        <a href="#" class="navbar__content-item-link">
                            <i class="fa-solid fa-file-import fa-user-groug navbar__content-icon"></i>
                            <p class="navbar__content-text">Nhập hàng</p>
                        </a>

                        <a href="#" class="navbar__content-item-link">
                            <i class="fa-solid fa-file-export navbar__content-icon"></i>
                            <p class="navbar__content-text">Xuất hàng</p>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <div class="content">
            <div class="content__navbar">
                <a href="" class="content__navbar-notify">
                    <i class="fa-solid fa-bell content__navbar-notify-icon"></i>
                </a>

                <div class="content__navbar-account">                   
                    <div class="content__navbar-account-name">
                        <div class="content_navbar-img-wrapper">
                            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTr3jhpAFYpzxx39DRuXIYxNPXc0zI5F6IiMQ&s" class="content__navbar-account-img"></img>
                        </div>
                        <p class="content__navbar-account-text">Nguyễn Văn A</p>
                        <i class="fa-solid fa-chevron-down content__navbar-account-icon"></i>
                    </div>
                    
                    <div class="content__navbar-account-sub">
                        <a href="#" class="content__navbar-account-item">
                            <i class="fa-solid fa-user content__navbar-account-icon"></i>
                            <p class="content__navbar-account-text">Tài khoản</p>
                        </a>

                        <a href="#" class="content__navbar-account-item">
                            <i class="fa-solid fa-lock content__navbar-account-icon"></i>
                            <p class="content__navbar-account-text">Đổi mật khẩu</p>
                        </a>

                        <a href="#" class="content__navbar-account-item">
                            <i class="fa-solid fa-right-from-bracket content__navbar-account-icon"></i>
                            <p class="content__navbar-account-text">Đăng xuất</p>
                        </a>
                    </div>
                </div>
            </div>

            <div class="content__wrapper">
                <div class="content__header">
                    <p class="content__header-text">Sản phẩm</p>
                    <button class="content__header-add">
                        <div class="fa-solid fa-plus content__header-add-icon"></div>
                        <div class="content__header-add-text">Thêm sản phẩm</div>
                    </button>
                </div>

                <div class="content__product">
                    <table class="content__product-table">
                        <tr class="content__product-header">
                            <th class="content__product-stt">STT</th>
                            <th class="content__product-operation">Thao tác</th>
                            <th class="content__product-img">Ảnh sản phẩm</th>
                            <th class="content__product-id">Mã sản phẩm</th>
                            <th class="content__product-name">Tên sản phẩm</th>
                            <th class="content__product-category">Danh mục</th>
                            <th class="content__product-unit">Đơn vị</th>
                            <th class="content__product-price">Giá nhập</th>
                            <th class="content__product-inventory">Tồn kho</th>
                            <th class="content__product-status">Trạng thái</th>
                        </tr>
                        <tr class="content__product-item">
                            <td class="content__product-stt">1</td>
                            <td class="content__product-operation">
                                <button class="content__product-fix">
                                    <i class="fa-solid fa-pen content__product-fix-icon"></i>
                                </button>
                                <button class="content__product-del">
                                    <i class="fa-solid fa-trash content__product-del-icon"></i>
                                </button>
                            </td>
                            <td class="content__product-img-wrapper">
                                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSwccIO-PdEcKz1beo0XhebuTvNOZVKTgIkqA&s" class="content__product-img">
                            </td>
                            <td class="content__product-id">SP001</td>
                            <td class="content__product-name">Kẹo cần</td>
                            <td class="content__product-category">Kẹo</td>
                            <td class="content__product-unit">Gói</td>
                            <td class="content__product-price">100.000.000 VNĐ</td>
                            <td class="content__product-inventory">5000000</td>
                            <td class="content__product-status">
                                <div class="content__product-status-stable">
                                    <p class="content__product-stable-text">Ổn định</p>
                                </div>

                                <div class="content__product-status-out">
                                    <p class="content__product-out-text">Sắp hết hàng</p>
                                </div>
                            </td>
                        </tr>
                        <tr class="content__product-item">
                            <td class="content__product-stt">1</td>
                            <td class="content__product-operation">
                                <button class="content__product-fix">
                                    <i class="fa-solid fa-pen content__product-fix-icon"></i>
                                </button>
                                <button class="content__product-del">
                                    <i class="fa-solid fa-trash content__product-del-icon"></i>
                                </button>
                            </td>
                            <td class="content__product-img-wrapper">
                                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSwccIO-PdEcKz1beo0XhebuTvNOZVKTgIkqA&s" class="content__product-img">
                            </td>
                            <td class="content__product-id">SP001</td>
                            <td class="content__product-name">Kẹo cần</td>
                            <td class="content__product-category">Kẹo</td>
                            <td class="content__product-unit">Gói</td>
                            <td class="content__product-price">100.000 VNĐ</td>
                            <td class="content__product-inventory">5000000</td>
                            <td class="content__product-status">
                                <div class="content__product-status-stable">
                                    <p class="content__product-stable-text">Ổn định</p>
                                </div>

                                <div class="content__product-status-out">
                                    <p class="content__product-out-text">Sắp hết hàng</p>
                                </div>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal -->
    <div class="modal js-modal">
        <div class="modal__container js-modal-container">
            <div class="modal__close js-modal-close">
                <i class="fa-solid fa-xmark modal__close-icon"></i>
            </div>

            <header class="modal__header">Thêm sản phẩm</header>

            <form action="Product" method="post" enctype="multipart/form-data" class="modal__form">
                <div class="modal__product-img-wrapper">
                    <label class="modal__product-img-text-wrapper">
                        <p class="modal__product-compulsory">*</p>
                        <p class="modal__product-text">Ảnh sản phẩm</p>
                    </label>
                    <div class="modal__product-input-wrapper">
                        <input type="file" name="image" accept="image/*" required class="modal__product-img">
                    </div>
                </div>

                <div class="modal_product-infor">
                    <div class="modal__product-wrapper">
                        <label for="id" class="modal__product-text-wrapper">
                            <p class="modal__product-compulsory">*</p>
                            <p class="modal__product-text">Mã sản phẩm</p>
                        </label>
                        <div class="modal__product-input-wrapper">
                            <input id="id" type="text" required placeholder="Nhập mã sản phẩm" class="modal__product-input">
                        </div>
                    </div>

                    <div class="modal__product-wrapper">
                        <label for="name" class="modal__product-text-wrapper">
                            <p class="modal__product-compulsory">*</p>
                            <p class="modal__product-text">Tên sản phẩm</p>
                        </label>
                        <div class="modal__product-input-wrapper">
                            <input id="name" type="text" required placeholder="Nhập tên sản phẩm" class="modal__product-input">
                        </div>
                    </div>

                    <div class="modal__product-wrapper">
                        <label for="category" class="modal__product-text-wrapper">
                            <p class="modal__product-compulsory">*</p>
                            <p class="modal__product-text">Danh mục sản phẩm</p>
                        </label>
                        <div class="modal__product-input-wrapper">
                            <input id="category" type="text" required placeholder="Nhập danh mục" class="modal__product-input">
                        </div>
                    </div>

                    <div class="modal__product-wrapper">
                        <label for="unit" class="modal__product-text-wrapper">
                            <p class="modal__product-compulsory">*</p>
                            <p class="modal__product-text">Đơn vị</p>
                        </label>
                        <div class="modal__product-input-wrapper">
                            <input id="unit" type="text" required placeholder="Nhập đơn vị" class="modal__product-input">
                        </div>
                    </div>

                    <div class="modal__product-wrapper">
                        <label for="unit" class="modal__product-text-wrapper">
                            <p class="modal__product-compulsory">*</p>
                            <p class="modal__product-text">Nhà cung cấp</p>
                        </label>
                        <div class="modal__product-input-wrapper">
                            <input id="unit" type="text" required placeholder="Nhập nhà cung cấp" class="modal__product-input">
                        </div>
                    </div>

                    <div class="modal__product-wrapper">
                        <label for="price" class="modal__product-text-wrapper">
                            <p class="modal__product-compulsory">*</p>
                            <p class="modal__product-text">Giá nhập</p>
                        </label>
                        <div class="modal__product-input-wrapper">
                            <input id="price" type="number" required placeholder="Nhập giá nhập" class="modal__product-input">
                            <p class="modal__product-input-unit">VNĐ</p>
                        </div>
                    </div>

                    <div class="modal__product-wrapper">
                        <label for="profit" class="modal__product-text-wrapper">
                            <p class="modal__product-compulsory">*</p>
                            <p class="modal__product-text">Mức lợi nhuận</p>
                        </label>
                        <div class="modal__product-input-wrapper">
                            <input id="profit" type="number" required placeholder="Nhập mức lợi nhuận" class="modal__product-input">
                            <p class="modal__product-input-unit">%</p>
                        </div>
                    </div>

                    <div class="modal__product-wrapper">
                        <label for="warn" class="modal__product-text-wrapper">
                            <p class="modal__product-compulsory">*</p>
                            <p class="modal__product-text">Số lượng cảnh báo</p>
                        </label>
                        <div class="modal__product-input-wrapper">
                            <input id="warn" type="number" required placeholder="Nhập số lượng cảnh báo" class="modal__product-input">
                            <p class="modal__product-input-unit">sản phẩm</p>
                        </div>
                    </div>
                </div>

                <div class="modal__submit">
                    <button class=modal__submit-btn>
                        <p class="modal__submit-text">Lưu</p>
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script>
        document.querySelectorAll(".navbar__content-item .navbar__content-item-parent").forEach((title, index) => {
            const key = "menuOpen" + index;
            const child = title.nextElementSibling;
            title.addEventListener("click", function() {
                const isOpen = child.style.display === "block";
                child.style.display = isOpen ? "none" : "block";
                this.classList.toggle("active", !isOpen);
                localStorage.setItem(key, !isOpen);
            })
            if (localStorage.getItem(key) === "true") {
                child.style.display = "block";
                title.classList.add("active");
            }
        })

        document.querySelectorAll('.content__product-item').forEach(p => {
            const qty = parseInt(p.dataset.quantity);
            const status = p.querySelector('.status');
            if (qty >= 50) status.style.display = 'none';
        });

        const addBtn = document.querySelector('.content__header-add')
        const modal = document.querySelector('.js-modal')
        const modalContainer = document.querySelector('.js-modal-container')
        const modalClose = document.querySelector('.js-modal-close')
        function showBuyTicket(){
            modal.classList.add('open')
        }
        function hideBuyTicket(){
            modal.classList.remove('open')
        }
        addBtn.addEventListener('click', showBuyTicket)
        document.querySelectorAll('.content__product-fix').forEach(fixBtn => {
            fixBtn.addEventListener('click', showBuyTicket)
        });
        modalClose.addEventListener('click', hideBuyTicket)
        modal.addEventListener('click', hideBuyTicket);
        modalContainer.addEventListener('click', function(event){
            event.stopPropagation()
        })

        document.querySelectorAll('.content__product-item').forEach(product => {
        const quantityDiv = product.querySelector('.content__product-inventory');
        const statusLow = product.querySelector('.content__product-status-out');
        const statusOk = product.querySelector('.content__product-status-stable');

        const quantity = parseInt(quantityDiv.textContent.trim(), 10);

        if (quantity < 10) {
            statusLow.style.display = 'block';
            statusOk.style.display = 'none';
        } else {
            statusLow.style.display = 'none';
            statusOk.style.display = 'block';
        }
        });

    </script>
</body>
</html>